---
import Main from '../../layouts/Main.astro'
import Icon from '../../components/Icon.jsx'
export async function getStaticPaths({rss}) {
    const data = Astro.fetchContent("../../blog/*.md")
    const rep = data.map(d=>{
        return {
          params:{slug:d.slug},
          props:{...d
            }}
    })
     rss({
    title: 'Benjamin Geets',
    description: 'Dev web junior mais on est la',
    customData: `<language>fr-FR</language>`,
    items: data.map(item => ({
      title: item.title,
      description: item.description,
      link: item.slug,
      pubDate: item.publishedat,
    })),
    dest: "/blog/feed.xml",
  });
  return rep
}
const {title,description,tags,content,publishedat} = Astro.props
---

<Main title={title} description={description}>
<div class="fixed md:left-4 md:bottom-auto bottom-0 md:w-auto w-screen p-2">
    <a href="/blog" class="dark:bg-gray-800 dark:border-gray-800 dark:hover:bg-gray-900 dark:hover:text-blue-400 dark:text-blue-300 flex md:justify-start justify-center items-center bg-gray-200 border hover:bg-gray-100 p-2 rounded-md  text-blue-800 hover:text-indigo-400">
        <Icon name="Arrow-back"/>
        Blog
    </a>
</div>
<article class="markdown max-w-2xl mx-auto mt-10 px-2">

<small>
{
    new Date(publishedat).toLocaleDateString("fr-FR",{ year: 'numeric', month: 'long', day: 'numeric' })
} /
{tags.map(e=>(
    <span>#{e}&nbsp;</span>
))}

</small>
<p></p>
{content.html}
</article>
<div class="md:h-0 h-20">
</div>
</Main>
